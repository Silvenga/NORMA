<?xml version="1.0" encoding="utf-8" ?>
<se:CustomSerializedElements
    xmlns:se="http://Schemas.Northface.edu/Private/SerializationExtensions"
    xmlns:plx="http://Schemas.Northface.edu/CodeGeneration/Plix">

    <se:Element Class="ORMModel" Name="Model">
        <se:CombinedElement Name="Objects">
            <se:Link RelationshipName="ModelHasObjectType" RoleName="ObjectTypeCollection"/>
        </se:CombinedElement>       
        <se:CombinedElement Name="Facts">
            <se:Link RelationshipName="ModelHasFactType" RoleName="FactTypeCollection"/>
        </se:CombinedElement>
        <se:CombinedElement Name="ExternalConstraints">
            <se:Link RelationshipName="ModelHasMultiColumnExternalConstraint" RoleName="MultiColumnExternalConstraintCollection"/>
            <se:Link RelationshipName="ModelHasSingleColumnExternalConstraint" RoleName="SingleColumnExternalConstraintCollection"/>
        </se:CombinedElement>       
        <se:CombinedElement Name="DataTypes">
            <se:Link RelationshipName="ModelHasDataType" RoleName="DataTypeCollection"/>
        </se:CombinedElement>  
        <se:CombinedElement Name="CustomReferenceModes">
            <se:Link RelationshipName="ModelHasReferenceMode" RoleName="ReferenceModeCollection"/>
        </se:CombinedElement> 
        <!--Don't think that we should serialize these.-->
         <se:CombinedElement Name="IShouldntbeHere">
            <se:Link RelationshipName="ModelHasReferenceModeKind" RoleName="ReferenceModeKindCollection"/>
        </se:CombinedElement>   
         <se:CombinedElement Name="ModelErrors">
            <se:Link RelationshipName="ModelHasError" RoleName="ErrorCollection"/>
        </se:CombinedElement>    
    </se:Element>
    <se:Element Class="ObjectType" Name="EntityType">
        <se:ConditionalName Name="ValueType">
            <plx:CallInstance name="IsValueType" style="Property"><plx:CallObject><plx:ThisKeyword/></plx:CallObject></plx:CallInstance>
        </se:ConditionalName>
        <se:ConditionalName Name="ObjectifiedType">
            <plx:Operator name="IdentityInequality">
                <plx:Left>
                    <plx:CallInstance name="NestedFactType" style="Property"><plx:CallObject><plx:ThisKeyword/></plx:CallObject></plx:CallInstance>
                </plx:Left>
                <plx:Right>
                    <plx:NullObjectKeyword/>
                </plx:Right>
            </plx:Operator>
        </se:ConditionalName>
        <!--TODO:This isn't working-->
            <se:Link RelationshipName="ValueTypeHasDataType" RoleName="DataType" Name="ConceptualDataType"/>
        
        <se:Attribute ID="ReferenceModeString"  Name="ReferenceMode" />
         
        <se:Link Name="PlayedRole" RelationshipName="ObjectTypePlaysRole" RoleName="PlayedRoleCollection"/>
        <se:Link RelationshipName="SubjectHasPresentation" RoleName="Presentation" WriteStyle="DontWrite"/>
        <!--TODO:Subtypes-->
        <!--TODO:Supertypes-->
    </se:Element>
    <!--     <se:Element Class="ObjectType" Name="ValueType">
        <se:Attribute ID="ReferenceModeString"  Name="ReferenceMode" />
    </se:Element>
     <se:Element Class="ObjectType" Name="Objectified">
        <se:Attribute ID="ReferenceModeString"  Name="ReferenceMode" />
    </se:Element>-->
    <se:Element Class="ValueTypeHasDataType" HasMixedTypedAttributes="true">
        <se:Attribute ID="Scale">
            <se:RolePlayed ID="ValueTypeCollection" Name="ScaleSize" DoubleTagName="yay"/>
        </se:Attribute>
    </se:Element>
    <!--How do I do datatypes?  They all have their own tag currently but they all have the same tag in the XML side.-->
    <se:Element Class="ReferenceModeKind">
        <se:Link RelationshipName="ReferenceModeHasReferenceModeKind" RoleName="ReferenceModeCollection" Name="IAmLinkedToAReferenceModeKind"/>
    </se:Element>
</se:CustomSerializedElements>
